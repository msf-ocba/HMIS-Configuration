<!--   
   Copyright (c) 2016.
 
   This file is part of Project Configuration for MSF.
 
   Project Configuration is free software: you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation, either version 3 of the License, or
   (at your option) any later version.
 
   Project Configuration is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.
 
   You should have received a copy of the GNU General Public License
   along with Project Configuration.  If not, see <http://www.gnu.org/licenses/>. -->


<br/>

<div class="row">
<div class="col-md-11">
<div class="panel panel-default">
<div class="panel-body">

<div ng-hide="showfields" class="col-md-12">
<div class="panel panel-default">
    <div class="panel-heading">
        <div class="row">
            <div class="col-md-10">
                {{'HEALTHSITE_DETAILS' | translate}}
            </div>

            <div class="col-md-2">
                <div class="text-right">
                    <a href="#/HealthSite" ng-click="enableforEdit()">
                        <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
                    </a>
                    <a href="#/HealthSite" ng-click="modalDelete()">
                        <span class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span>
                    </a>
                </div>
            </div>

        </div>
    </div>
	<div class="panel-body">
		<div class="row">
			<div class="col-md-12">
				<label for="InputName2">{{'HEALTHSITE_NAME' | translate}}</label>
                <d2-findorganisationunit field="name" value="{{healthsitename}}" operation="{{operation}}" placeholder="{{'HEALTHSITE_NAME' | translate}}"></d2-findorganisationunit>
			</div>
		</div>
		<br/>
		<div class="row">
		
			<div class="col-md-4">
				<label for="InputName3">{{'HEALTHSITE_OPENING_DATE' | translate}}</label>
				<p class="input-group">
				<input type="text" class="form-control" datepicker-popup="yyyy-MM-dd" ng-model="healthsitecreated" is-open="openedsite" min-date="minDate" datepicker-options="dateOptions" ng-disabled="operation=='show'" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />
									
				<span class="input-group-btn">
                     <button type="button" class="btn btn-default" ng-click="opensitedate($event)" ng-disabled="operation=='show'"><i class="glyphicon glyphicon-calendar"></i></button>
                     
                </span>				
				</p>
			</div>
			
			<div class="col-md-4">
				<label for="sel12"> {{'HEALTHSITE_CODE' | translate }} </label>
                <d2-findorganisationunit field="code" value="{{healthsitecode}}" operation="show" placeholder="{{'HEALTHSITE_NAME' | translate}}"></d2-findorganisationunit>
			</div>
			
			<div class="col-md-4">
				<label for="sel12"> {{'HEALTHSITE_TYPE' | translate }} </label>
				<d2-dropdownorgunitgroupset uidgroupSet="{{siteTypeId}}" operation="{{operation}}"></d2-dropdownorgunitgroupset>
			</div>				
		
		</div>
	</div>
</div>


</div>
    <div class="row" ng-show="operation=='edit'">
        <div class="col-md-6">

        </div>

        <div class="col-md-6 text-right">
            <button ng-click="EditSite()" type="button" class="btn btn-primary btn-sm">{{'SITE_SAVE' | translate}}</button>
            <button type="button" class="btn btn-danger btn-sm" ng-click="enableforshow()">{{'SITE_CANCEL' | translate}}</button>
        </div>

    </div>
    <div class="row">
        <div class="col-md-12">
            <alert ng-repeat="message in messages" type="{{message.type}}" close="closeAlertMessage($index)">{{message.text}}</alert>
        </div>
    </div>


		<div class="row">
		<div class="col-md-12">
			<div class="col-md-9">
			</div>
			<div class="col-md-3">
				<h2>	<button ng-click="showForm(1)" type="button" class="btn btn-primary">{{'HEALTHSERVICE_CREATE' | translate}}</button></h2>
			</div>
		</div>
		</div>

<br/>


<div ng-show="frmService" class="col-md-12">

<div class="panel panel-default">
  <div class="panel-heading">{{'HEALTHSERVICE_TITLE' | translate}}</div>
  <div class="panel-body">
  	<div class="row">
		<div class="col-md-12">
			<div class="row">
				<div class="col-md-4">
					<label for="InputName2">{{'HEALTHSERVICE_OPENING_DATE' | translate}}</label>
					<p class="input-group">
           		    <input type="text" class="form-control" datepicker-popup="yyyy-MM-dd" ng-model="healthServiceDate" is-open="openedservice" min-date="minDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />
              		<span class="input-group-btn">
                		<button type="button" class="btn btn-default" ng-click="openservicedate($event)"><i class="glyphicon glyphicon-calendar"></i></button>
              		</span>
            		</p>
				</div>
				
				<div class="col-md-4">
					<label for="sel12"> {{'HEALTHSERVICE' | translate }} </label>
					<d2-dropdownorgunitgroupset uidgroupSet="{{healthServiceId}}" uidgroupsetfilterby="{{siteTypeId}}" file="servicebysite" id="healthservice"></d2-dropdownorgunitgroupset>
				</div>
                <div class="col-md-4">
                    <label for=""> {{'HEALTHSERVICE_DATASET' | translate }} </label>
                    {{vaccinationName}}
                  </div>
				
			</div>
		</div>
	</div>
		<div class="col-md-12">
	<div class="row">
		</div>
	</div>
	
	


<br>
<div class="row">
		<div class="col-md-6">
			<button ng-click="servicesave()" type="button" class="btn btn-primary">{{'HEALTHSERVICE_SAVE' | translate}} </button>
		</div>

		<div class="col-md-6">
			<button type="button" class="btn btn-danger" ng-click="hideForm()">{{'HEALTHSERVICE_CANCEL' | translate}} </button>
		</div>
</div>
</div>
</div>
</div>

</div>
</div>
</div>
</div>

<d2-modaldialogbox></d2-modaldialogbox>

<script type="text/ng-template" id="ConfirmationEdition.html">
        <div class="modal-header">
            <h3 class="modal-title">{{'HEALTHSITE_WARNING' | translate}}</h3>
        </div>
        <div class="modal-body">
            <ul>
                <li ng-repeat="service in items">
                    {{ service.name }}
                </li>
            </ul>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok()">{{'HEALTHSITE_WARNING_YES' | translate}}</button>
            <button class="btn btn-warning" ng-click="cancel()">{{'HEALTHSITE_WARNING_NO' | translate}}</button>
        </div>
    </script>
